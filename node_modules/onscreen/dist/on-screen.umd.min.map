{"version":3,"file":"dist/on-screen.umd.min.js","sources":["dist/on-screen.umd.js"],"names":["global","factory","exports","module","define","amd","OnScreen","this","observeDOM","obj","callback","MutationObserver","window","WebKitMutationObserver","obs","observe","childList","subtree","addEventListener","attach","_this","container","options","HTMLElement","style","getComputedStyle","position","_observer","document","querySelector","Object","keys","trackedElements","forEach","element","on","_scroll","passive","attached","inViewport","el","arguments","length","undefined","tolerance","Error","elRect","getBoundingClientRect","bottom","right","left","innerWidth","documentElement","clientWidth","top","innerHeight","clientHeight","inContainer","containerRect","offsetTop","scrollTop","offsetLeft","scrollLeft","width","height","eventHandler","selectors","testVisibility","selector","nodes","item","node","wasVisible","isVisible","enter","leave","debouncedScroll","timeout","debounce","clearTimeout","setTimeout","destroy","disconnect","removeEventListener","off","event","handler","enterCallbacks","leaveCallbacks","hasOwnProperty","call","callbackName","name","allowed","indexOf","i","elems","querySelectorAll","push","defineProperties","configurable","enumerable","get","set","value","parseInt","defineProperty","writable","_debouncedScroll","prototype","check"],"mappings":"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"}